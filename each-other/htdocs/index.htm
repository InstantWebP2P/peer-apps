<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<title>Make friends with Each-Other software</title>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/deskShell/clientApi.js"></script>
	
</head>
<body>
    <h2>Hello World</h2>
    <p>Edit me and add your content</p>
    
    <script>
		deskShell.ready(function(ctx){
	        console.log('app context:'+JSON.stringify(ctx.app));
			
	        deskShell.socket.on('test', function(){
	        	console.log('test.');
	        	alert('test.');
	        });
	        				
	        // connect to each-other namespace
	        var socket = io('/eachother');
	        socket.on('connect', function(){

	        	setInterval(function(){
	        		socket.emit('ping', {data: 'hello'}, function(data){
	        			alert('ping cb ok: '+data.data);
	        		});
	        	}, 2000);

	        	socket.on('pong', function(data){
	        		alert('ping event ok: '+data.data);
	        	});
	        });
				
		});
    </script>    

</body>
</html>
